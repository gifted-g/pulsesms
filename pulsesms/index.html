<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PulseSMS | Africa's #1 Bulk Messaging MVP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --pulse-primary: #0062ff;
            --pulse-secondary: #00d4ff;
            --pulse-accent: #f43f5e;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #fcfcfd;
        }

        .pulse-logo {
            background: linear-gradient(135deg, var(--pulse-primary), var(--pulse-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .pulse-bg {
            background: linear-gradient(135deg, var(--pulse-primary), var(--pulse-secondary));
        }

        /* Animated pulse icon */
        .pulse-icon-wrapper {
            position: relative;
        }
        .pulse-icon-wrapper::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: var(--pulse-primary);
            border-radius: 50%;
            z-index: -1;
            animation: pulse-ring 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite;
        }

        @keyframes pulse-ring {
            0% { transform: scale(.33); opacity: 0.8; }
            80%, 100% { transform: scale(1.5); opacity: 0; }
        }

        .phone-mockup {
            background: #0f172a;
            border: 10px solid #1e293b;
            border-radius: 40px;
            width: 270px;
            height: 540px;
            position: relative;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .sms-bubble {
            background: #ffffff;
            color: #1e293b;
            padding: 12px 16px;
            border-radius: 20px;
            border-bottom-left-radius: 4px;
            max-width: 85%;
            font-size: 0.8rem;
            margin-bottom: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            line-height: 1.4;
        }

        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
    </style>
</head>
<body class="text-slate-900">

    <div id="app" class="min-h-screen flex flex-col">
        <!-- Pulse Header -->
        <nav class="bg-white/80 backdrop-blur-md border-b border-slate-100 px-6 py-4 flex justify-between items-center sticky top-0 z-50">
            <div class="flex items-center gap-3">
                <div class="pulse-icon-wrapper">
                    <div class="w-10 h-10 pulse-bg rounded-xl flex items-center justify-center shadow-lg shadow-blue-200">
                        <i class="fa-solid fa-bolt-lightning text-white text-lg"></i>
                    </div>
                </div>
                <h1 class="text-2xl font-extrabold tracking-tight">Pulse<span class="pulse-logo">SMS</span></h1>
            </div>
            
            <div class="flex items-center gap-4">
                <div class="hidden sm:flex items-center bg-slate-100 rounded-full px-3 py-1.5 border border-slate-200">
                    <select id="currency-select" onchange="updateCurrency()" class="bg-transparent text-[10px] font-bold outline-none cursor-pointer">
                        <option value="NGN">NIGERIA (₦)</option>
                        <option value="KES">KENYA (KSh)</option>
                        <option value="GHS">GHANA (GH₵)</option>
                        <option value="ZAR">S. AFRICA (R)</option>
                    </select>
                </div>
                <div class="flex flex-col items-end">
                    <span class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Account Balance</span>
                    <span class="text-sm font-black text-slate-800" id="balance-val">₦75,500.00</span>
                </div>
            </div>
        </nav>

        <main class="flex-grow p-4 lg:p-8 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <!-- LEFT: Core Workflow -->
            <div class="lg:col-span-8 space-y-6">
                
                <!-- Campaign Engine -->
                <div class="bg-white rounded-3xl border border-slate-100 shadow-sm p-6 lg:p-8">
                    <div class="flex justify-between items-center mb-8">
                        <div>
                            <h2 class="text-xl font-extrabold">Broadcast Engine</h2>
                            <p class="text-sm text-slate-400">Launch high-priority SMS across African networks</p>
                        </div>
                        <div class="bg-blue-50 text-blue-600 px-4 py-2 rounded-2xl text-xs font-bold border border-blue-100">
                            99.9% Uptime <i class="fa-solid fa-signal ml-1"></i>
                        </div>
                    </div>

                    <div class="space-y-8">
                        <!-- Step 1: Data -->
                        <div>
                            <div class="flex justify-between items-center mb-3">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest">1. Audience Import</label>
                                <button onclick="downloadSample()" class="text-[10px] font-bold text-blue-600 hover:underline">Sample Template</button>
                            </div>
                            <div id="drop-zone" class="group border-2 border-dashed border-slate-200 rounded-2xl p-10 text-center transition-all hover:border-blue-400 hover:bg-blue-50/50 cursor-pointer">
                                <input type="file" id="file-input" class="hidden" accept=".csv">
                                <div class="w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                    <i class="fa-solid fa-file-csv text-2xl text-slate-400 group-hover:text-blue-500"></i>
                                </div>
                                <p class="text-sm font-bold text-slate-600">Click to upload CSV</p>
                                <p class="text-xs text-slate-400 mt-1">International & Local numbers supported</p>
                            </div>

                            <div id="file-stats" class="hidden mt-4 p-4 bg-blue-50 rounded-2xl border border-blue-100 flex items-center justify-between">
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-blue-600 shadow-sm">
                                        <i class="fa-solid fa-check"></i>
                                    </div>
                                    <div>
                                        <p id="filename-display" class="font-bold text-sm">contacts.csv</p>
                                        <p id="row-count" class="text-xs text-blue-600 font-medium">0 Recipient(s)</p>
                                    </div>
                                </div>
                                <button onclick="resetFile()" class="p-2 text-slate-400 hover:text-rose-500 transition-colors"><i class="fa-solid fa-xmark"></i></button>
                            </div>
                        </div>

                        <!-- Step 2: Content -->
                        <div>
                            <div class="flex justify-between items-center mb-3">
                                <label class="text-xs font-black text-slate-400 uppercase tracking-widest">2. Message Pulse</label>
                                <button onclick="toggleAiDrawer()" class="bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-4 py-1.5 rounded-xl text-[10px] font-black hover:opacity-90 transition-all flex items-center gap-2">
                                    <i class="fa-solid fa-sparkles"></i> AI MAGIC
                                </button>
                            </div>

                            <div id="ai-drawer" class="hidden mb-6 bg-slate-900 rounded-2xl p-6 text-white animate-in slide-in-from-top-4">
                                <p class="text-[10px] font-black text-blue-400 uppercase mb-4 tracking-widest">AI Copywriter</p>
                                <div class="flex gap-3">
                                    <input type="text" id="ai-prompt" placeholder="Ask AI to write a marketing message for Nigerian customers..." 
                                        class="flex-grow bg-slate-800 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                                    <button onclick="generateAiText()" id="ai-gen-btn" class="bg-white text-slate-900 px-6 py-2 rounded-xl text-sm font-black hover:bg-blue-50">Draft</button>
                                </div>
                                <div id="ai-status" class="hidden mt-3 text-[10px] italic text-slate-400 loading-dots">Optimizing for regional conversion</div>
                            </div>

                            <div id="tags-container" class="flex flex-wrap gap-2 mb-4">
                                <!-- Tags injected here -->
                            </div>

                            <div class="relative group">
                                <textarea id="msg-input" rows="6" placeholder="Draft your broadcast here..." 
                                    class="w-full p-5 bg-slate-50 border border-slate-100 rounded-3xl focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-400 outline-none transition-all resize-none text-slate-700"></textarea>
                                <div class="absolute bottom-4 right-4 flex gap-2">
                                    <div class="px-3 py-1 bg-white border border-slate-200 rounded-full text-[10px] font-black text-slate-500 shadow-sm">
                                        <span id="char-count">0</span> chars
                                    </div>
                                    <div class="px-3 py-1 pulse-bg rounded-full text-[10px] font-black text-white shadow-lg shadow-blue-200">
                                        <span id="chunk-count">1</span> UNITS
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action -->
                        <div class="pt-4 flex flex-col sm:flex-row gap-4">
                            <button id="send-btn" disabled onclick="startCampaign()" 
                                class="flex-grow pulse-bg hover:opacity-90 disabled:opacity-30 disabled:cursor-not-allowed text-white font-black py-5 rounded-3xl shadow-2xl shadow-blue-300 transition-all flex items-center justify-center gap-3 text-lg group">
                                <i class="fa-solid fa-paper-plane group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"></i>
                                INITIALIZE PULSE
                            </button>
                            <div class="bg-slate-900 text-white rounded-3xl px-8 py-4 flex flex-col justify-center min-w-[180px]">
                                <span class="text-[9px] font-black text-slate-400 uppercase">Est. Cost</span>
                                <span class="text-xl font-black"><span id="currency-symbol">₦</span><span id="est-cost">0.00</span></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- History -->
                <div class="bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden">
                    <div class="p-6 border-b border-slate-50 flex justify-between items-center">
                        <h3 class="font-bold text-slate-400 text-xs uppercase tracking-widest">Pulse Activity</h3>
                        <i class="fa-solid fa-ellipsis text-slate-300"></i>
                    </div>
                    <div id="history-container" class="max-h-[300px] overflow-y-auto custom-scrollbar">
                        <div class="py-12 text-center">
                            <p class="text-xs text-slate-400 font-medium italic">No recent pulses detected.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT: Device Intelligence -->
            <div class="lg:col-span-4 space-y-6">
                
                <!-- Mockup -->
                <div class="sticky top-24 flex flex-col items-center">
                    <div class="phone-mockup group">
                        <!-- Top Bar -->
                        <div class="h-14 bg-slate-900/50 backdrop-blur-sm flex items-center px-6 gap-3 rounded-t-[40px]">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-cyan-400 flex items-center justify-center text-white text-[10px] font-black" id="preview-avatar">P</div>
                            <div>
                                <p class="text-[8px] text-slate-500 font-bold uppercase tracking-tighter">Verified Sender</p>
                                <p id="preview-name" class="text-[10px] text-white font-black">PulseSMS</p>
                            </div>
                        </div>
                        
                        <!-- Screen -->
                        <div class="p-4 flex flex-col h-[400px] bg-slate-50/50 overflow-y-auto custom-scrollbar" id="preview-messages">
                            <div class="sms-bubble animate-in fade-in slide-in-from-bottom-2" id="sms-preview-text">
                                Your message will pulse through local networks in real-time.
                            </div>
                        </div>

                        <!-- Status Overlay -->
                        <div id="progress-panel" class="hidden absolute inset-0 bg-slate-900/95 backdrop-blur-md rounded-[40px] p-8 flex flex-col items-center justify-center text-white z-20">
                            <div class="w-24 h-24 relative mb-6">
                                <svg class="w-full h-full" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="2" fill="none" class="text-slate-800"/>
                                    <circle cx="50" cy="50" r="45" stroke="var(--pulse-primary)" stroke-width="6" fill="none" 
                                        stroke-dasharray="283" id="progress-ring" style="stroke-dashoffset: 283; transition: stroke-dashoffset 0.5s ease;"/>
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center font-black text-2xl" id="percentage-text">0%</div>
                            </div>
                            <p class="text-xs font-black text-blue-400 uppercase tracking-widest mb-6">Transmitting...</p>
                            <div class="grid grid-cols-2 gap-4 w-full">
                                <div class="text-center bg-slate-800 p-3 rounded-2xl">
                                    <p class="text-[10px] text-slate-500 uppercase font-black">Sent</p>
                                    <p id="sent-count" class="text-lg font-black text-blue-400">0</p>
                                </div>
                                <div class="text-center bg-slate-800 p-3 rounded-2xl">
                                    <p class="text-[10px] text-slate-500 uppercase font-black">Lost</p>
                                    <p id="fail-count" class="text-lg font-black text-rose-500">0</p>
                                </div>
                            </div>
                            <button onclick="stopCampaign()" class="mt-8 text-[10px] font-black text-rose-500 border border-rose-500/20 px-4 py-2 rounded-full hover:bg-rose-500/10 transition-all">TERMINATE PULSE</button>
                        </div>

                        <!-- Keyboard area mockup -->
                        <div class="absolute bottom-8 w-full px-6 flex items-center gap-2">
                            <div class="flex-grow h-8 bg-slate-800 rounded-full border border-slate-700"></div>
                            <div class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs"><i class="fa-solid fa-arrow-up"></i></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Success Feedback -->
    <div id="success-modal" class="fixed inset-0 bg-slate-900/90 hidden items-center justify-center z-[100] p-6 backdrop-blur-lg">
        <div class="bg-white rounded-[3rem] p-10 max-w-sm w-full text-center shadow-2xl animate-in zoom-in-95 duration-500">
            <div class="w-20 h-20 pulse-bg text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-200 rotate-12">
                <i class="fa-solid fa-check text-3xl"></i>
            </div>
            <h2 class="text-2xl font-black mb-2 text-slate-900">Pulse Complete!</h2>
            <p class="text-slate-500 mb-8 text-sm font-medium">Your broadcast reached regional gateways successfully.</p>
            <button onclick="closeModal()" class="w-full bg-slate-900 text-white font-black py-4 rounded-2xl hover:bg-black transition-all">Pulse Again</button>
        </div>
    </div>

    <script>
        const apiKey = ""; // Gemini API
        const GATEWAY_RATES = {
            NGN: 4.85,  // Slightly higher premium routes
            KES: 1.50,
            GHS: 0.22,
            ZAR: 0.45
        };

        let recipientsData = [];
        let headers = [];
        let isSending = false;
        let campaignInterval = null;
        let currentCurrency = "NGN";
        let credits = 75500;
        let history = JSON.parse(localStorage.getItem('pulsesms_history') || '[]');

        // UI
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const fileStats = document.getElementById('file-stats');
        const msgInput = document.getElementById('msg-input');
        const tagsContainer = document.getElementById('tags-container');
        const smsPreviewText = document.getElementById('sms-preview-text');
        const sendBtn = document.getElementById('send-btn');
        const progressPanel = document.getElementById('progress-panel');
        const progressRing = document.getElementById('progress-ring');
        const percentageText = document.getElementById('percentage-text');
        const sentCountEl = document.getElementById('sent-count');
        const failCountEl = document.getElementById('fail-count');
        const charCountEl = document.getElementById('char-count');
        const chunkCountEl = document.getElementById('chunk-count');
        const estCostEl = document.getElementById('est-cost');
        const balanceVal = document.getElementById('balance-val');
        const currencySymbol = document.getElementById('currency-symbol');

        window.onload = () => {
            renderHistory();
            updateCurrency();
            dropZone.onclick = () => fileInput.click();
        };

        function updateCurrency() {
            currentCurrency = document.getElementById('currency-select').value;
            const symbols = { NGN: "₦", KES: "KSh", GHS: "GH₵", ZAR: "R" };
            currencySymbol.innerText = symbols[currentCurrency];
            calculateCost();
        }

        fileInput.onchange = (e) => { if (e.target.files[0]) handleFile(e.target.files[0]); };
        dropZone.ondrop = (e) => { e.preventDefault(); handleFile(e.dataTransfer.files[0]); };
        dropZone.ondragover = (e) => { e.preventDefault(); dropZone.classList.add('bg-blue-50', 'border-blue-400'); };
        dropZone.ondragleave = () => { dropZone.classList.remove('bg-blue-50', 'border-blue-400'); };

        function handleFile(file) {
            const reader = new FileReader();
            reader.onload = (e) => processCSV(e.target.result, file.name);
            reader.readAsText(file);
        }

        function processCSV(text, filename) {
            const lines = text.split('\n').filter(l => l.trim());
            if (lines.length < 2) return;
            headers = lines[0].split(',').map(h => h.trim());
            const phoneIdx = headers.findIndex(h => /phone|tel|number|mobile/i.test(h));
            
            if (phoneIdx === -1) return alert("Phone column required!");

            recipientsData = lines.slice(1).map(line => {
                const vals = line.split(',');
                const obj = {};
                headers.forEach((h, i) => {
                    let v = vals[i]?.trim() || "";
                    if (i === phoneIdx) v = sanitizePulsePhone(v);
                    obj[h] = v;
                });
                return obj;
            }).filter(r => r[headers[phoneIdx]]);

            updateUI(filename);
        }

        function sanitizePulsePhone(num) {
            let clean = num.replace(/\D/g, '');
            if (currentCurrency === "NGN") {
                if (clean.startsWith('0') && clean.length === 11) clean = '234' + clean.substring(1);
                else if (clean.length === 10) clean = '234' + clean;
            }
            return clean.length >= 10 ? '+' + clean : null;
        }

        function updateUI(filename) {
            document.getElementById('filename-display').innerText = filename;
            document.getElementById('row-count').innerText = `${recipientsData.length} Recipients Validated`;
            dropZone.classList.add('hidden');
            fileStats.classList.remove('hidden');
            
            tagsContainer.innerHTML = headers.map(h => `
                <button onclick="insertTag('{{${h}}}')" class="px-3 py-1 bg-white border border-slate-200 text-[10px] font-black text-slate-500 rounded-lg hover:border-blue-400 hover:text-blue-600 transition-all">
                    {{${h}}}
                </button>
            `).join('');
            validate();
            updatePreview();
        }

        function resetFile() {
            recipientsData = [];
            fileStats.classList.add('hidden');
            dropZone.classList.remove('hidden');
            validate();
        }

        function toggleAiDrawer() { document.getElementById('ai-drawer').classList.toggle('hidden'); }

        async function generateAiText() {
            const prompt = document.getElementById('ai-prompt').value;
            const btn = document.getElementById('ai-gen-btn');
            const status = document.getElementById('ai-status');
            if (!prompt) return;

            btn.disabled = true;
            status.classList.remove('hidden');

            const system = "You are PulseSMS AI. Write high-conversion marketing SMS for African audiences. Keep it under 160 chars. Use {{Name}} if appropriate. Output ONLY text.";
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        systemInstruction: { parts: [{ text: system }] }
                    })
                });
                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
                if (text) {
                    msgInput.value = text.trim();
                    msgInput.dispatchEvent(new Event('input'));
                }
            } catch (e) { console.error(e); }
            finally { btn.disabled = false; status.classList.add('hidden'); }
        }

        msgInput.oninput = () => {
            const len = msgInput.value.length;
            const chunks = Math.ceil(len / 160) || 1;
            charCountEl.innerText = len;
            chunkCountEl.innerText = chunks;
            updatePreview();
            calculateCost();
            validate();
        };

        function calculateCost() {
            const chunks = Math.ceil(msgInput.value.length / 160) || 1;
            const cost = recipientsData.length * chunks * GATEWAY_RATES[currentCurrency];
            estCostEl.innerText = cost.toLocaleString(undefined, { minimumFractionDigits: 2 });
            validate();
        }

        function updatePreview() {
            let t = msgInput.value || "Your message will pulse through local networks in real-time.";
            if (recipientsData[0]) {
                headers.forEach(h => t = t.replace(new RegExp(`{{${h}}}`, 'g'), recipientsData[0][h] || `[${h}]`));
                document.getElementById('preview-name').innerText = recipientsData[0][headers.find(h => /phone|mobile/i.test(h))] || "Recipient";
            }
            smsPreviewText.innerText = t;
        }

        function validate() {
            const cost = parseFloat(estCostEl.innerText.replace(/,/g, ''));
            sendBtn.disabled = !recipientsData.length || !msgInput.value.trim() || cost > credits;
        }

        function insertTag(tag) {
            const start = msgInput.selectionStart;
            msgInput.value = msgInput.value.substring(0, start) + tag + msgInput.value.substring(msgInput.selectionEnd);
            msgInput.dispatchEvent(new Event('input'));
        }

        async function startCampaign() {
            isSending = true;
            sendBtn.disabled = true;
            progressPanel.classList.remove('hidden');
            
            let sent = 0;
            let failed = 0;
            const total = recipientsData.length;
            const cost = parseFloat(estCostEl.innerText.replace(/,/g, ''));

            campaignInterval = setInterval(() => {
                if (sent + failed >= total) return finish(sent, failed, cost);
                
                // 95% Success rate simulation
                Math.random() > 0.05 ? sent++ : failed++;
                
                sentCountEl.innerText = sent;
                failCountEl.innerText = failed;
                
                const p = ((sent + failed) / total) * 100;
                percentageText.innerText = `${Math.round(p)}%`;
                progressRing.style.strokeDashoffset = 283 - (283 * p / 100);

            }, 50);
        }

        function finish(s, f, cost) {
            clearInterval(campaignInterval);
            credits -= cost;
            balanceVal.innerText = `${currencySymbol.innerText}${credits.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
            
            history.unshift({
                date: new Date().toLocaleTimeString(),
                msg: msgInput.value.slice(0, 30) + "...",
                success: s,
                total: s + f
            });
            localStorage.setItem('pulsesms_history', JSON.stringify(history));
            renderHistory();
            document.getElementById('success-modal').classList.remove('hidden');
            document.getElementById('success-modal').classList.add('flex');
        }

        function renderHistory() {
            const container = document.getElementById('history-container');
            if (!history.length) return;
            container.innerHTML = history.map(h => `
                <div class="p-4 border-b border-slate-50 flex justify-between items-center group hover:bg-slate-50">
                    <div class="flex items-center gap-4">
                        <div class="w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-[10px] font-black">
                            ${Math.round(h.success/h.total*100)}%
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-700">${h.msg}</p>
                            <p class="text-[9px] text-slate-400 font-bold uppercase">${h.date} · ${h.success} Delivered</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function stopCampaign() {
            clearInterval(campaignInterval);
            isSending = false;
            progressPanel.classList.add('hidden');
            sendBtn.disabled = false;
        }

        function closeModal() {
            document.getElementById('success-modal').classList.add('hidden');
            progressPanel.classList.add('hidden');
            sendBtn.disabled = false;
        }

        function downloadSample() {
            const blob = new Blob(["Phone,Name,City\n08030001111,Femi,Lagos\n08122223333,Kofi,Accra"], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = "pulsesms_sample.csv";
            a.click();
        }
    </script>
</body>
</html>